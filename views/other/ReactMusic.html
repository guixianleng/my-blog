<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React + Redux ç®€æ˜“ç‰ˆQQéŸ³ä¹webApp | FED</title>
    <meta name="description" content="Death is our final destination. enjoy the journey!">
    <link rel="icon" href="/my-blog/favicon.ico">
    
    <link rel="preload" href="/my-blog/assets/css/0.styles.8704f1fe.css" as="style"><link rel="preload" href="/my-blog/assets/js/app.fa2e1c25.js" as="script"><link rel="preload" href="/my-blog/assets/js/2.7c27518b.js" as="script"><link rel="preload" href="/my-blog/assets/js/15.3e9c72ce.js" as="script"><link rel="prefetch" href="/my-blog/assets/js/10.9226125a.js"><link rel="prefetch" href="/my-blog/assets/js/11.045d85b7.js"><link rel="prefetch" href="/my-blog/assets/js/12.b3a4c07c.js"><link rel="prefetch" href="/my-blog/assets/js/13.01f6499a.js"><link rel="prefetch" href="/my-blog/assets/js/14.13f92e6a.js"><link rel="prefetch" href="/my-blog/assets/js/16.c3d5f18d.js"><link rel="prefetch" href="/my-blog/assets/js/17.a35f7d98.js"><link rel="prefetch" href="/my-blog/assets/js/18.10e85e37.js"><link rel="prefetch" href="/my-blog/assets/js/19.99194444.js"><link rel="prefetch" href="/my-blog/assets/js/20.c92be5bf.js"><link rel="prefetch" href="/my-blog/assets/js/21.e5ecf1c3.js"><link rel="prefetch" href="/my-blog/assets/js/22.71df3343.js"><link rel="prefetch" href="/my-blog/assets/js/23.5e4652bf.js"><link rel="prefetch" href="/my-blog/assets/js/3.4e9785f1.js"><link rel="prefetch" href="/my-blog/assets/js/4.9a88cbb7.js"><link rel="prefetch" href="/my-blog/assets/js/5.3f1bf10f.js"><link rel="prefetch" href="/my-blog/assets/js/6.40f6c170.js"><link rel="prefetch" href="/my-blog/assets/js/7.24286e46.js"><link rel="prefetch" href="/my-blog/assets/js/8.33052e85.js"><link rel="prefetch" href="/my-blog/assets/js/9.658ade64.js">
    <link rel="stylesheet" href="/my-blog/assets/css/0.styles.8704f1fe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my-blog/" class="home-link router-link-active"><!----> <span class="site-name">FED</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my-blog/" class="nav-link">ä¸»é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å¹²è´§</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my-blog/views/technology/" class="nav-link">å‰ç«¯æŠ€æœ¯</a></li><li class="dropdown-item"><!----> <a href="/my-blog/views/essay/" class="nav-link">éšç¬”</a></li><li class="dropdown-item"><!----> <a href="/my-blog/views/other/" class="nav-link router-link-active">å…¶ä»–</a></li></ul></div></div><div class="nav-item"><a href="/my-blog/about/" class="nav-link">å…³äº</a></div><div class="nav-item"><a href="https://github.com/guixianleng/my-blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/my-blog/" class="nav-link">ä¸»é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å¹²è´§</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my-blog/views/technology/" class="nav-link">å‰ç«¯æŠ€æœ¯</a></li><li class="dropdown-item"><!----> <a href="/my-blog/views/essay/" class="nav-link">éšç¬”</a></li><li class="dropdown-item"><!----> <a href="/my-blog/views/other/" class="nav-link router-link-active">å…¶ä»–</a></li></ul></div></div><div class="nav-item"><a href="/my-blog/about/" class="nav-link">å…³äº</a></div><div class="nav-item"><a href="https://github.com/guixianleng/my-blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>vue-components</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/views/" class="sidebar-link">ğŸ‰ ç§»åŠ¨ç«¯ç»„ä»¶</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>çŸ¥è¯†ç‚¹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç¬”è®°</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>å®æˆ˜é¡¹ç›®</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/views/other/ReactMusic.html" class="active sidebar-link">React + Redux ç®€æ˜“ç‰ˆQQéŸ³ä¹webApp</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-blog/views/other/ReactMusic.html#é¡¹ç›®æŸ¥çœ‹è¿è¡Œï¼š" class="sidebar-link">é¡¹ç›®æŸ¥çœ‹è¿è¡Œï¼š</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/other/ReactMusic.html#åŠŸèƒ½ï¼š" class="sidebar-link">åŠŸèƒ½ï¼š</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/other/ReactMusic.html#åŠŸèƒ½æ¼”ç¤ºï¼š" class="sidebar-link">åŠŸèƒ½æ¼”ç¤ºï¼š</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/other/ReactMusic.html#åŠŸèƒ½å®ç°ä»‹ç»ï¼š" class="sidebar-link">åŠŸèƒ½å®ç°ä»‹ç»ï¼š</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/other/ReactMusic.html#ç¬¬ä¸€æ¬¡reactå†™é¡¹ç›®" class="sidebar-link">ç¬¬ä¸€æ¬¡reactå†™é¡¹ç›®</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/other/ReactMusic.html#reactå­¦ä¹ èµ„æºï¼š" class="sidebar-link">reactå­¦ä¹ èµ„æºï¼š</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react-redux-ç®€æ˜“ç‰ˆqqéŸ³ä¹webapp"><a href="#react-redux-ç®€æ˜“ç‰ˆqqéŸ³ä¹webapp" aria-hidden="true" class="header-anchor">#</a> React + Redux ç®€æ˜“ç‰ˆQQéŸ³ä¹webApp</h1> <h2 id="é¡¹ç›®æŸ¥çœ‹è¿è¡Œï¼š"><a href="#é¡¹ç›®æŸ¥çœ‹è¿è¡Œï¼š" aria-hidden="true" class="header-anchor">#</a> é¡¹ç›®æŸ¥çœ‹è¿è¡Œï¼š</h2> <div class="language-shell extra-class"><pre class="language-text"><code>$ git clone https://github.com/guixianleng/react-music-webApp.git
$ cd react-music-webApp
$ npm install

$ npm run start 
</code></pre></div><p><a href="https://github.com/guixianleng/react-music-webApp" target="_blank" rel="noopener noreferrer">GitHubåœ°å€<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="åŠŸèƒ½ï¼š"><a href="#åŠŸèƒ½ï¼š" aria-hidden="true" class="header-anchor">#</a> åŠŸèƒ½ï¼š</h2> <ul><li>[x] æ¨è
<ul><li>[x] ä¸“è¾‘æ­Œæ›²åˆ—è¡¨</li> <li>[x] ä¸“è¾‘è¯¦æƒ…</li></ul></li> <li>[x] æ’è¡Œæ¦œ
<ul><li>[x] QQæ’è¡Œæ¦œ</li> <li>[x] å…¨çƒæ¦œ(å‡æ•°æ®)</li></ul></li> <li>[x] æ­Œæ‰‹
<ul><li>[x] åˆ—è¡¨</li> <li>[x] æ¡ä»¶æœç´¢</li></ul></li> <li>[x] æœç´¢åŠŸèƒ½
<ul><li>[x] çƒ­é—¨æœç´¢</li> <li>[x] è‡ªå®šä¹‰æœç´¢</li></ul></li> <li>[x] æ’­æ”¾å™¨
<ul><li>[x] è¿·ä½ æ’­æ”¾å™¨</li> <li>[x] æ­Œæ›²åˆ—è¡¨</li> <li>[x] æ­Œæ›²æ’­æ”¾æ¨¡å¼</li> <li>[x] ä¸Šä¸€é¦–</li> <li>[x] ä¸‹ä¸€é¦–</li> <li>[x] æš‚åœ</li> <li>[x] è¿›åº¦æ¡</li></ul></li> <li>[x] æ¢è‚¤</li></ul> <h2 id="åŠŸèƒ½æ¼”ç¤ºï¼š"><a href="#åŠŸèƒ½æ¼”ç¤ºï¼š" aria-hidden="true" class="header-anchor">#</a> åŠŸèƒ½æ¼”ç¤ºï¼š</h2> <h3 id="_1-æ¨è"><a href="#_1-æ¨è" aria-hidden="true" class="header-anchor">#</a> 1.æ¨è</h3> <p><img src="https://github.com/guixianleng/images-store/blob/master/images/recommend.gif?raw=true" alt="æ¨è"></p> <h3 id="_2-æ’è¡Œæ¦œ"><a href="#_2-æ’è¡Œæ¦œ" aria-hidden="true" class="header-anchor">#</a> 2. æ’è¡Œæ¦œ</h3> <p><img src="https://github.com/guixianleng/images-store/blob/master/images/rank.gif?raw=true" alt="æ’è¡Œæ¦œ"></p> <h3 id="_3-æ­Œæ‰‹"><a href="#_3-æ­Œæ‰‹" aria-hidden="true" class="header-anchor">#</a> 3. æ­Œæ‰‹</h3> <p><img src="https://github.com/guixianleng/images-store/blob/master/images/singer.gif?raw=true" alt="æ­Œæ‰‹"></p> <h3 id="_4-æœç´¢"><a href="#_4-æœç´¢" aria-hidden="true" class="header-anchor">#</a> 4. æœç´¢</h3> <p><img src="https://github.com/guixianleng/images-store/blob/master/images/search.gif?raw=true" alt="æœç´¢"></p> <h3 id="_5-æ’­æ”¾å™¨"><a href="#_5-æ’­æ”¾å™¨" aria-hidden="true" class="header-anchor">#</a> 5. æ’­æ”¾å™¨</h3> <p><img src="https://github.com/guixianleng/images-store/blob/master/images/player.gif?raw=true" alt="æ’­æ”¾å™¨"></p> <h3 id="_6-æ¢è‚¤"><a href="#_6-æ¢è‚¤" aria-hidden="true" class="header-anchor">#</a> 6. æ¢è‚¤</h3> <p><img src="https://github.com/guixianleng/images-store/blob/master/images/skin.gif?raw=true" alt="æ’­æ”¾å™¨"></p> <h2 id="åŠŸèƒ½å®ç°ä»‹ç»ï¼š"><a href="#åŠŸèƒ½å®ç°ä»‹ç»ï¼š" aria-hidden="true" class="header-anchor">#</a> åŠŸèƒ½å®ç°ä»‹ç»ï¼š</h2> <h3 id="_1-æ¢è‚¤åŠŸèƒ½"><a href="#_1-æ¢è‚¤åŠŸèƒ½" aria-hidden="true" class="header-anchor">#</a> 1. æ¢è‚¤åŠŸèƒ½</h3> <p>è¯¥é¡¹ç›®ä½¿ç”¨çš„æ˜¯<code>styled-components</code>æ ·å¼åŒ–ç»„ä»¶ï¼Œå¯ä»¥å»<a href="https://www.styled-components.com/docs/basics" target="_blank" rel="noopener noreferrer">å®˜ç½‘<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>äº†è§£</p> <p>ä¼˜ç‚¹ï¼š</p> <ul><li>å¯ä»¥é€šè¿‡ç¼–å†™å®é™…çš„CSSä»£ç æ¥è®¾è®¡ç»„ä»¶æ ·å¼ï¼Œä¹Ÿä¸éœ€è¦ç»„ä»¶å’Œæ ·å¼ä¹‹é—´çš„æ˜ å°„ï¼Œå³åˆ›å»ºåå°±æ˜¯ä¸€ä¸ªæ­£å¸¸çš„Reactç»„ä»¶ï¼Œå¹¶ä¸”å¯ä»¥é™„åŠ æ ·å¼ç»™å½“å‰ç»„ä»¶ã€‚ ä¼˜åŒ–reactç»„ä»¶è§£è€¦.</li> <li>åœ¨ä¸€ä¸ªç»„ä»¶å†…ä¼šå°†ç»“æ„ã€æ ·å¼å’Œé€»è¾‘å†™åœ¨ä¸€èµ·ï¼Œæœ‰åˆ©äºç»„ä»¶é—´çš„éš”ç¦»ã€‚ä¸ºäº†é¡ºåº”ç»„ä»¶åŒ–çš„æ½®æµ..</li> <li>ä½¿ç”¨<code>styled-components</code>ä¸éœ€è¦å†ä½¿ç”¨classNameå±æ€§æ¥æ§åˆ¶æ ·å¼ï¼Œè€Œæ˜¯å°†æ ·å¼å†™æˆæ›´å…·è¯­ä¹‰åŒ–çš„ç»„ä»¶çš„å½¢å¼.</li> <li>ä½¿ç”¨style-componentsä¼šéšæœºç”Ÿæˆä¸€ä¸ªclassåç§°ï¼Œè¿™æ ·ä¸ä¼šæ±¡æŸ“åˆ°å…¨å±€å˜é‡.</li></ul> <p>æ³¨æ„ï¼š</p> <p>å¼•å…¥å…¨å±€æ ·å¼å¼•å…¥ï¼Œéœ€è¦ä½¿ç”¨<code>createGlobalStyle</code>ç»„ä»¶</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createGlobalStyle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'styled-components'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> GlobalStyle <span class="token operator">=</span> createGlobalStyle<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  ...
</span><span class="token template-punctuation string">`</span></span>
</code></pre></div><p>ç„¶åå†å°†å®šä¹‰çš„å…¨å±€æ ·å¼ç»„ä»¶ï¼Œæ”¾åœ¨ render() ä¸­æœ€å¤–å±‚å…ƒç´ ä¸‹é¢</p> <p>æ¢è‚¤ä½¿ç”¨çš„æ˜¯<code>ThemeProvider</code>ç»„ä»¶ï¼Œ<a href="https://www.styled-components.com/docs/advanced#theming" target="_blank" rel="noopener noreferrer">å®˜ç½‘<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>æœ‰è¯¦ç»†è¯´æ˜.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'styled-components'</span>

<span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token punctuation">{</span>
    backgroundColor<span class="token punctuation">:</span> <span class="token string">'#317c47'</span><span class="token punctuation">,</span>
    color<span class="token punctuation">:</span> <span class="token string">'#317c47'</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ThemeProvider theme<span class="token operator">=</span><span class="token punctuation">{</span>theme<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">...</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-better-scrollç§»åŠ¨ç«¯scrollç¥å™¨"><a href="#_2-better-scrollç§»åŠ¨ç«¯scrollç¥å™¨" aria-hidden="true" class="header-anchor">#</a> 2. better-scrollç§»åŠ¨ç«¯scrollç¥å™¨</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'better-scroll'</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span>

<span class="token keyword">import</span> Loading <span class="token keyword">from</span> <span class="token string">'../../baseUI/Loading/Loading'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> debounce <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../utils'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ScrollDiv<span class="token punctuation">,</span> PullUpLoading<span class="token punctuation">,</span> PullDownLoading <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./style'</span>


<span class="token keyword">class</span> <span class="token class-name">Scroll</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
    direction<span class="token punctuation">:</span> <span class="token string">'vertical'</span><span class="token punctuation">,</span>
    click<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    refresh<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    onScroll<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    pullUpLoading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    pullDownLoading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token function-variable function">pullUp</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">pullDown</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    bounceTop<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    bounceBottom<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¼€å¯æ»šåŠ¨æ–¹å¼</span>
    direction<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span><span class="token function">oneOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'vertical'</span><span class="token punctuation">,</span> <span class="token string">'horizontal'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    click<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>bool<span class="token punctuation">,</span>
    <span class="token comment">// äº‹ä»¶æ´¾å‘</span>
    refresh<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>bool<span class="token punctuation">,</span>
    onScroll<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">,</span>
    pullUp<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">,</span>
    pullDown<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">,</span>
    <span class="token comment">// å¼€å¯åŠ è½½</span>
    pullUpLoading<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>bool<span class="token punctuation">,</span> 
    pullDownLoading<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>bool<span class="token punctuation">,</span>
    <span class="token comment">// å›å¼¹</span>
    bounceTop<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>bool<span class="token punctuation">,</span>
    bounceBottom<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>bool
  <span class="token punctuation">}</span>

  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç»„ä»¶æ›´æ–°åï¼Œå¦‚æœå®ä¾‹åŒ–äº†better-scrollå¹¶ä¸”éœ€è¦åˆ·æ–°å°±è°ƒç”¨refresh()å‡½æ•°</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bScroll <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>refresh <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>bScroll<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Options å‚æ•°</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> direction<span class="token punctuation">,</span> click<span class="token punctuation">,</span> bounceTop<span class="token punctuation">,</span> bounceBottom <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    <span class="token comment">// Events äº‹ä»¶</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> onScroll<span class="token punctuation">,</span> pullUp<span class="token punctuation">,</span> pullDown <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bScroll<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>bScroll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>scrollRef<span class="token punctuation">.</span>current<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      scrollX<span class="token punctuation">:</span> direction <span class="token operator">===</span> <span class="token string">'horizontal'</span><span class="token punctuation">,</span>
      scrollY<span class="token punctuation">:</span> direction <span class="token operator">===</span> <span class="token string">'vertical'</span><span class="token punctuation">,</span>
      <span class="token comment">/**
       * 1 æ»šåŠ¨çš„æ—¶å€™ä¼šæ´¾å‘scrolläº‹ä»¶ï¼Œä¼šæˆªæµ
       * 2æ»šåŠ¨çš„æ—¶å€™å®æ—¶æ´¾å‘scrolläº‹ä»¶ï¼Œä¸ä¼šæˆªæµã€‚
       * 3é™¤äº†å®æ—¶æ´¾å‘scrolläº‹ä»¶ï¼Œåœ¨swipeçš„æƒ…å†µä¸‹ä»ç„¶èƒ½å®æ—¶æ´¾å‘scrolläº‹ä»¶
       */</span>
      probeType<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      stopPropagation<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// æ˜¯å¦æ´¾å‘clickäº‹ä»¶</span>
      click<span class="token punctuation">:</span> click<span class="token punctuation">,</span>
      <span class="token comment">// æ˜¯å¦å¯ç”¨ä¸Šä¸‹æ‹‰æ•ˆæœ</span>
      bounce<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        top<span class="token punctuation">:</span> bounceTop<span class="token punctuation">,</span>
        bottom<span class="token punctuation">:</span> bounceBottom
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// ç›‘å¬æ»šåŠ¨äº‹ä»¶</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>bScroll <span class="token operator">||</span> <span class="token operator">!</span>onScroll<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>bScroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">scroll</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onScroll</span><span class="token punctuation">(</span>scroll<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleDealUp</span><span class="token punctuation">(</span>pullUp<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleDealDown</span><span class="token punctuation">(</span>pullDown<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// å¤„ç†åˆ¤æ–­æ˜¯å¦æ»‘åŠ¨åˆ°äº†åº•éƒ¨</span>
  <span class="token function">handleDealUp</span> <span class="token punctuation">(</span><span class="token parameter">pullUp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>bScroll <span class="token operator">||</span> <span class="token operator">!</span>pullUp<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>bScroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scrollEnd'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bScroll<span class="token punctuation">.</span>y <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>bScroll<span class="token punctuation">.</span>maxScrollY <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">debounce</span><span class="token punctuation">(</span>pullUp<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>bScroll<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'scrollEnd'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// å¤„ç†åˆ¤æ–­ç”¨æˆ·çš„ä¸‹æ‹‰åŠ¨ä½œ</span>
  <span class="token function">handleDealDown</span> <span class="token punctuation">(</span><span class="token parameter">pullDown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>bScroll <span class="token operator">||</span> <span class="token operator">!</span>pullDown<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>bScroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'touchEnd'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">pos</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>pos<span class="token punctuation">.</span>y <span class="token operator">&gt;</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">debounce</span><span class="token punctuation">(</span>pullDown<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>bScroll<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'touchEnd'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// é”€æ¯</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>bScroll<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>bScroll <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// åˆ·æ–°</span>
  <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bScroll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>bScroll<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> pullUpLoading<span class="token punctuation">,</span> pullDownLoading<span class="token punctuation">,</span> children <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ScrollDiv ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>scrollRef<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&quot;scroll-view&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
        <span class="token punctuation">{</span><span class="token comment">/* é¡¶éƒ¨ä¸‹æ‹‰åˆ·æ–°åŠ¨ç”» */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>PullDownLoading pullDown<span class="token operator">=</span><span class="token punctuation">{</span>pullDownLoading<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Loading<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Loading<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>PullDownLoading<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* ä¸Šæ»‘è‡³åº•éƒ¨åŠ è½½åŠ¨ç”» */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>PullUpLoading pullUp<span class="token operator">=</span><span class="token punctuation">{</span>pullUpLoading<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Loading<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Loading<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>PullUpLoading<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ScrollDiv<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Scroll

</code></pre></div><h2 id="ç¬¬ä¸€æ¬¡reactå†™é¡¹ç›®"><a href="#ç¬¬ä¸€æ¬¡reactå†™é¡¹ç›®" aria-hidden="true" class="header-anchor">#</a> ç¬¬ä¸€æ¬¡reactå†™é¡¹ç›®</h2> <p>æ„Ÿè§‰å­¦åˆ°çš„ä¸œè¥¿è¿˜æ˜¯æŒºå¤šçš„ï¼Œæ…¢æ…¢æˆé•¿ï¼Œé€æ¸ç§¯ç´¯å§ï¼</p> <ul><li>åŠ¡å®è‡ªå·±jsã€cssåŸºç¡€</li> <li>reactå…¥é—¨æˆåŠŸ</li> <li>reduxçš„å®ç°åŸç†ã€ç»„ä»¶åŒ–å¼€å‘</li></ul> <h2 id="reactå­¦ä¹ èµ„æºï¼š"><a href="#reactå­¦ä¹ èµ„æºï¼š" aria-hidden="true" class="header-anchor">#</a> reactå­¦ä¹ èµ„æºï¼š</h2> <ul><li><a href="http://huziketang.mangojuice.top/books/react/" target="_blank" rel="noopener noreferrer">React.jså°ä¹¦<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œreact/reduxä»‹ç»çš„å¾ˆç»†</li> <li><a href="http://cn.redux.js.org/" target="_blank" rel="noopener noreferrer">Reduxä¸­æ–‡æ–‡æ¡£<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer">Reactä¸­æ–‡æ–‡æ¡£<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5d085be0f265da1bac401937" target="_blank" rel="noopener noreferrer">æŠ€æœ¯èƒ–Reactç³»åˆ—<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5d3e3c42e51d45590a445c37" target="_blank" rel="noopener noreferrer">æŠ€æœ¯èƒ–Reduxç³»åˆ—<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/11/2019, 2:17:44 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/my-blog/views/article/tools.html" class="prev">
          ğŸ‰ Development Tools
        </a></span> <!----></p></div> </main></div><div class="global-ui"><div class="cat-container" data-v-a13867c0><canvas id="vuepress-cat" width="280" height="250" class="live2d" data-v-a13867c0></canvas></div></div></div>
    <script src="/my-blog/assets/js/app.fa2e1c25.js" defer></script><script src="/my-blog/assets/js/2.7c27518b.js" defer></script><script src="/my-blog/assets/js/15.3e9c72ce.js" defer></script>
  </body>
</html>
