(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{205:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"reactåŸºç¡€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactåŸºç¡€","aria-hidden":"true"}},[t._v("#")]),t._v(" ğŸ‰ ReactåŸºç¡€")]),t._v(" "),a("h2",{attrs:{id:"_1-propså’Œstate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-propså’Œstate","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. propså’Œstate")]),t._v(" "),a("p",[t._v("æ„é€ å‡½æ•°ä¸­å®šä¹‰ props å’Œ state ï¼Œ"),a("code",[t._v("Props")]),t._v("æ˜¯åªè¯»å±æ€§ï¼Œä¼ é€’ç»™ç»„ä»¶ä»¥å‘ˆç°UIå’ŒçŠ¶æ€, "),a("code",[t._v("state")]),t._v("æ˜¯ç§æœ‰çš„ï¼Œå¹¶ä¸”å®Œå…¨å—æ§äºå½“å‰ç»„ä»¶")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Clock")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" world"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("It is "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLocaleTimeString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"warning custom-block"},[a("p",[t._v("æ²¡æœ‰ state çš„ç»„ä»¶å«æ— çŠ¶æ€ç»„ä»¶ï¼ˆstateless componentï¼‰ï¼Œè®¾ç½®äº† state çš„å«åšæœ‰çŠ¶æ€ç»„ä»¶ï¼ˆstateful componentï¼‰")])]),t._v(" "),a("ul",[a("li",[t._v("æœ‰çŠ¶æ€ç»„ä»¶")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloWorld")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sayHi")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello World'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div onClick"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sayHi")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello World"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("æ— çŠ¶æ€ç»„ä»¶(ç”¨å‡½æ•°å¼ç»„ä»¶çš„ç¼–å†™æ–¹å¼)")])]),t._v(" "),a("blockquote",[a("p",[t._v("å‡½æ•°å¼ç»„ä»¶åªèƒ½æ¥å— props è€Œæ— æ³•åƒè·Ÿç±»ç»„ä»¶ä¸€æ ·å¯ä»¥åœ¨ constructor é‡Œé¢åˆå§‹åŒ– state")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("HelloWorld")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("sayHi")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello World'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div onClick"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sayHi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello World"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("åº”å½“å°½é‡å¤šåœ°å†™æ— çŠ¶æ€ç»„ä»¶ï¼Œå°½é‡å°‘åœ°å†™æœ‰çŠ¶æ€çš„ç»„ä»¶ã€‚è¿™æ ·ä¼šé™ä½ä»£ç ç»´æŠ¤çš„éš¾åº¦ï¼Œä¹Ÿä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢å¼ºç»„ä»¶çš„å¯å¤ç”¨æ€§")])]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[a("code",[t._v("state")]),t._v(" æ˜¯è®©ç»„ä»¶æ§åˆ¶è‡ªå·±çš„çŠ¶æ€ï¼Œ"),a("code",[t._v("props")]),t._v(" æ˜¯è®©å¤–éƒ¨å¯¹ç»„ä»¶è‡ªå·±è¿›è¡Œé…ç½®ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"_2-setstateå›è°ƒå‡½æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-setstateå›è°ƒå‡½æ•°","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. setStateå›è°ƒå‡½æ•°")]),t._v(" "),a("p",[a("strong",[t._v("æ³¨æ„")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ä¸è¦ç›´æ¥ä¿®æ”¹ State --- é€šè¿‡setState()è¿›è¡Œæ›´æ”¹state")]),t._v(" "),a("li",[t._v("State çš„æ›´æ–°å¯èƒ½æ˜¯å¼‚æ­¥çš„ --- setState()æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°")]),t._v(" "),a("li",[t._v("State çš„æ›´æ–°ä¼šè¢«åˆå¹¶ --- è°ƒç”¨ setState() çš„æ—¶å€™ï¼ŒReact ä¼šæŠŠä½ æä¾›çš„å¯¹è±¡åˆå¹¶åˆ°å½“å‰çš„ state")])]),t._v(" "),a("blockquote",[a("p",[t._v("setStateæ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œå½“ä½¿ç”¨refæ—¶ä¼šæ¯”setStateè¦å…ˆæ‰§è¡Œï¼Œè¿™æ—¶å€™ä½¿ç”¨setStateå›è°ƒå‡½æ•°å¯ä»¥è§„é¿è¿™ä¸ªå¼‚æ­¥æ“ä½œ")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ul"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_3-reactæ–°æ—§ç”Ÿå‘½å‘¨æœŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-reactæ–°æ—§ç”Ÿå‘½å‘¨æœŸ","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. Reactæ–°æ—§ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),a("h3",{attrs:{id:"_3-1-react-v16-3ä¹‹å‰çš„çš„ç”Ÿå‘½å‘¨æœŸï¼š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-react-v16-3ä¹‹å‰çš„çš„ç”Ÿå‘½å‘¨æœŸï¼š","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.1 React v16.3ä¹‹å‰çš„çš„ç”Ÿå‘½å‘¨æœŸï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/my-blog/static/previous.png",alt:"An image"}})]),t._v(" "),a("h3",{attrs:{id:"_3-1-1-mountingé˜¶æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-mountingé˜¶æ®µ","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.1.1 Mountingé˜¶æ®µ")]),t._v(" "),a("p",[t._v("Mountingé˜¶æ®µå«æŒ‚è½½é˜¶æ®µï¼Œä¼´éšç€æ•´ä¸ªè™šæ‹ŸDOMçš„ç”Ÿæˆï¼Œå®ƒé‡Œè¾¹æœ‰ä¸‰ä¸ªå°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("componentWillMount :  åœ¨ç»„ä»¶å³å°†è¢«æŒ‚è½½åˆ°é¡µé¢çš„æ—¶åˆ»æ‰§è¡Œã€‚")]),t._v(" "),a("li",[t._v("render : é¡µé¢stateæˆ–propså‘ç”Ÿå˜åŒ–æ—¶æ‰§è¡Œã€‚")]),t._v(" "),a("li",[t._v("componentDidMount  : ç»„ä»¶æŒ‚è½½å®Œæˆæ—¶è¢«æ‰§è¡Œã€‚")])]),t._v(" "),a("p",[a("code",[t._v("æ‰§è¡Œé¡ºåºï¼šconstructor --\x3e componentWillMount --\x3e render --\x3e componentDidMount --\x3e")])]),t._v(" "),a("p",[a("code",[t._v("componentWillMount")]),t._v("å’Œ"),a("code",[t._v("componentDidMount")]),t._v("è¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œåªåœ¨é¡µé¢åˆ·æ–°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œè€Œ"),a("code",[t._v("render")]),t._v("å‡½æ•°æ˜¯åªè¦æœ‰stateå’Œpropså˜åŒ–å°±ä¼šæ‰§è¡Œ")]),t._v(" "),a("h3",{attrs:{id:"_3-1-2-updationé˜¶æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-updationé˜¶æ®µ","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.1.2 Updationé˜¶æ®µ")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("shouldComponentUpdate")]),t._v("å‡½æ•°ä¼šåœ¨ç»„ä»¶æ›´æ–°ä¹‹å‰ï¼Œè‡ªåŠ¨è¢«æ‰§è¡Œï¼Œå®ƒè¦æ±‚è¿”å›ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„ç»“æœï¼Œå¿…é¡»æœ‰è¿”å›å€¼ï¼ˆ"),a("strong",[t._v("è¿”å›trueï¼Œå°±åŒæ„ç»„ä»¶æ›´æ–°ï¼›è¿”å›falseï¼Œå°±åå¯¹ç»„ä»¶æ›´æ–°")]),t._v("ï¼‰")]),t._v(" "),a("li",[a("code",[t._v("componentWillUpdate")]),t._v("å‡½æ•°åœ¨ç»„ä»¶æ›´æ–°ä¹‹å‰ï¼Œä½†"),a("code",[t._v("shouldComponenUpdate")]),t._v("å‡½æ•°ä¹‹åè¢«æ‰§è¡Œã€‚ä½†æ˜¯å¦‚æœ"),a("code",[t._v("shouldComponentUpdate")]),t._v("å‡½æ•°è¿”å›falseï¼Œè¿™ä¸ªå‡½æ•°å°±ä¸ä¼šè¢«æ‰§è¡Œäº†")]),t._v(" "),a("li",[a("code",[t._v("componentDidUpdate")]),t._v("åœ¨ç»„ä»¶æ›´æ–°ä¹‹åæ‰§è¡Œï¼Œå®ƒæ˜¯ç»„ä»¶æ›´æ–°çš„æœ€åä¸€ä¸ªç¯èŠ‚")])]),t._v(" "),a("p",[a("code",[t._v("æ‰§è¡Œé¡ºåºï¼šshouldComponentUpdateï¼ˆç»„ä»¶å‘ç”Ÿæ”¹å˜å‰æ‰§è¡Œï¼‰ --\x3e componentWillUpdateï¼ˆç»„ä»¶æ›´æ–°å‰ï¼ŒshouldComponentUpdateå‡½æ•°ä¹‹åæ‰§è¡Œï¼‰ --\x3e render --\x3e componentDidUpdateï¼ˆç»„ä»¶æ›´æ–°ä¹‹åæ‰§è¡Œï¼‰")])]),t._v(" "),a("p",[a("code",[t._v("componentWillReceiveProps")]),t._v(" å­ç»„ä»¶æ¥å—propsï¼Œæ‰§è¡Œè¯¥ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shouldComponentUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("nextProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nextState"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nextContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextProps "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3-2-react16-3ä¹‹åçš„ç”Ÿå‘½å‘¨æœŸç¤ºæ„å›¾ï¼š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-react16-3ä¹‹åçš„ç”Ÿå‘½å‘¨æœŸç¤ºæ„å›¾ï¼š","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.2 React16.3ä¹‹åçš„ç”Ÿå‘½å‘¨æœŸç¤ºæ„å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/my-blog/static/current.png",alt:"An image"}})]),t._v(" "),a("h3",{attrs:{id:"_3-2-1-getderivedstatefromprops-props-state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-getderivedstatefromprops-props-state","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.2.1 getDerivedStateFromProps(props, state)")]),t._v(" "),a("p",[t._v("å½“ç»„ä»¶çš„stateéœ€è¦æ ¹æ®propsæ¥æ”¹å˜çš„æ—¶å€™å¯è°ƒç”¨æ­¤æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨ render() å‰ä¼šè¢«æ‰§è¡Œï¼Œæ¯æ¬¡è§¦å‘renderå‰ï¼Œéƒ½ä¼šè§¦å‘æ­¤æ–¹æ³•ã€‚")]),t._v(" "),a("p",[t._v("è¯¥æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°propså’Œstate; è¿”å›å€¼ä¸ºstateå¯¹è±¡, ä¸éœ€è¦è¿”å›æ•´ä½“stateï¼ŒæŠŠéœ€è¦æ”¹å˜çš„stateè¿”å›å³å¯ã€‚å¦‚æœä¸éœ€è¦ï¼Œå¯ä»¥è¿”å›null.")]),t._v(" "),a("p",[a("code",[t._v("æ‰§è¡Œé¡ºåºï¼šgetDerivedStateFromProps() --\x3e render() --\x3e componentDidMount() --\x3e")])]),t._v(" "),a("h3",{attrs:{id:"_3-2-2-showcomponentupdate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-showcomponentupdate","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.2.2 showComponentUpdate()")]),t._v(" "),a("p",[t._v("åœ¨æ¸²æŸ“æ–°çš„propsæˆ–stateå‰ï¼ŒshouldComponentUpdateè¢«è°ƒç”¨ï¼Œé»˜è®¤è¿”å›true")]),t._v(" "),a("p",[t._v("è‹¥ shouldComponentUpdate() è¿”å› false ï¼Œåˆ™"),a("code",[t._v("getSnapshotBeforeUpdate()")]),t._v(", "),a("code",[t._v("render()")]),t._v(" å’Œ "),a("code",[t._v("componentDidUpdate()")]),t._v("ä¸ä¼šè¢«æ‰§è¡Œã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("åˆ©ç”¨ shouldComponentUpdate è¿›è¡Œ"),a("code",[t._v("ä¼˜åŒ–æ€§èƒ½")])])]),t._v(" "),a("h3",{attrs:{id:"_3-2-3-getsnapshotbeforeupdate-prevprops-prevstate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-3-getsnapshotbeforeupdate-prevprops-prevstate","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.2.3 getSnapshotBeforeUpdate(prevProps, prevState)")]),t._v(" "),a("p",[t._v("åœ¨render()çš„è¾“å‡ºè¢«æ¸²æŸ“åˆ°DOMä¹‹å‰è¢«è°ƒç”¨ï¼Œè¯¥ç”Ÿå‘½å‘¨æœŸè¿”å›çš„ä»»ä½•å€¼éƒ½å°†ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™componentDidUpdate()")]),t._v(" "),a("h3",{attrs:{id:"_3-2-4-componentdidupdate-prevprops-prevstate-snapshot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-4-componentdidupdate-prevprops-prevstate-snapshot","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.2.4 componentDidUpdate(prevProps, prevState, snapshot)")]),t._v(" "),a("p",[t._v("åœ¨æ›´æ–°å‘ç”Ÿåè°ƒç”¨ componentDidUpdate()ï¼Œå¦‚å°†å½“å‰çš„propsä¸ä»¥å‰çš„propsè¿›è¡Œæ¯”è¾ƒ")]),t._v(" "),a("p",[t._v("ä¾‹å¦‚ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å¦‚æœpropsæ²¡æœ‰æ”¹å˜ï¼Œåˆ™å¯èƒ½ä¸éœ€è¦ç½‘ç»œè¯·æ±‚ã€‚")]),t._v(" "),a("li",[t._v("å¦‚æœç»„ä»¶ä½¿ç”¨ getSnapshotBeforeUpdate()ï¼Œåˆ™å®ƒè¿”å›çš„å€¼å°†ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™ componentDidUpdate()ã€‚å¦åˆ™ï¼Œè¿™ä¸ªå‚æ•°æ˜¯undefinedã€‚")])]),t._v(" "),a("p",[a("code",[t._v("æ‰§è¡Œé¡ºåºï¼šshouldComponentUpdateè¿”å›true --\x3e getSnapshotBeforeUpdate --\x3e componentDidUpdate")])]),t._v(" "),a("h3",{attrs:{id:"_3-2-5-unmountingé˜¶æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-5-unmountingé˜¶æ®µ","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.2.5 Unmountingé˜¶æ®µ")]),t._v(" "),a("p",[a("code",[t._v("componentWillUnmount")]),t._v("å‡½æ•°æ—¶ç»„ä»¶ä»é¡µé¢ä¸­åˆ é™¤çš„æ—¶å€™æ‰§è¡Œ")]),t._v(" "),a("h2",{attrs:{id:"_4-æ€§èƒ½ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-æ€§èƒ½ä¼˜åŒ–","aria-hidden":"true"}},[t._v("#")]),t._v(" 4. æ€§èƒ½ä¼˜åŒ–")]),t._v(" "),a("blockquote",[a("p",[t._v("ä½¿ç”¨"),a("code",[t._v("shouldComponentUpdate")]),t._v("å‡½æ•°ä¼˜åŒ–æ€§èƒ½")])]),t._v(" "),a("p",[t._v("shouldComponentUpdateæœ‰ä¸¤ä¸ªå‚æ•°ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("nextProps: å˜åŒ–åçš„å±æ€§")]),t._v(" "),a("li",[t._v("nextState: å˜åŒ–åçš„çŠ¶æ€")])]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shouldComponentUpdate")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("nextProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nextState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_5-å¼‚å¸¸æ•æ‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-å¼‚å¸¸æ•æ‰","aria-hidden":"true"}},[t._v("#")]),t._v(" 5. å¼‚å¸¸æ•æ‰")]),t._v(" "),a("blockquote",[a("p",[t._v("React 16 å°†æä¾›ä¸€ä¸ªå†…ç½®å‡½æ•° "),a("code",[t._v("componentDidCatch")]),t._v("ï¼Œå¦‚æœ render() å‡½æ•°æŠ›å‡ºé”™è¯¯ï¼Œåˆ™ä¼šè§¦å‘è¯¥å‡½æ•°ï¼Œ"),a("strong",[t._v("é”™è¯¯åœ¨æ¸²æŸ“é˜¶æ®µä¸­è¢«æ•è·ï¼Œä½†åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­ä¸ä¼šè¢«æ•è·")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ErrorBoundary")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" hasError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidCatch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Display fallback UI")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" hasError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// You can also log the error to an error reporting service")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("logErrorToMyService")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hasError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// You can render any custom fallback UI")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Something went wrong"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"componentdidcatchå’ŒgetderivedstatefromerroråŒºåˆ«ï¼š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#componentdidcatchå’ŒgetderivedstatefromerroråŒºåˆ«ï¼š","aria-hidden":"true"}},[t._v("#")]),t._v(" componentDidCatchå’ŒgetDerivedStateFromErroråŒºåˆ«ï¼š")]),t._v(" "),a("p",[t._v("å¦‚æœå¼‚å¸¸å‘ç”Ÿåœ¨"),a("code",[t._v("render")]),t._v("é˜¶æ®µï¼ŒReactå°±ä¼šè°ƒç”¨"),a("code",[t._v("getDerivedStateFromError")]),t._v("ï¼Œå¦‚æœå¼‚å¸¸å‘ç”Ÿåœ¨ç¬¬commité˜¶æ®µï¼ŒReactä¼šè°ƒç”¨"),a("code",[t._v("componentDidCatch")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("åœ¨renderå‡½æ•°ä¹‹å‰äº§ç”Ÿå¼‚å¸¸ä¼šè°ƒç”¨ getDerivedStateFromError;")]),t._v(" "),a("p",[t._v("åœ¨renderå‡½æ•°ä¹‹åäº§ç”Ÿå¼‚å¸¸ä¼šè°ƒç”¨ componentDidCatchã€‚")]),t._v(" "),a("p",[a("strong",[t._v("æ³¨æ„ï¼šcomponentDidCatchæ˜¯ä¸ä¼šåœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„æ—¶å€™è¢«è°ƒç”¨çš„ è€ŒgetDerivedStateFromErrorä¼š")])]),t._v(" "),a("h2",{attrs:{id:"_6-çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼š","aria-hidden":"true"}},[t._v("#")]),t._v(" 6. çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼š")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("åˆå§‹åŒ–é˜¶æ®µ(çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶)ï¼š\n"),t._v(" "),a("img",{attrs:{src:"/my-blog/static/parent-children.png",alt:"an image"}})])]),t._v(" "),a("li",[a("p",[t._v("è¿è¡Œé˜¶æ®µ:çˆ¶ç»„ä»¶props/stateæ›´æ–°")])])]),t._v(" "),a("p",[t._v("å­ç»„ä»¶çš„shouldComponentUpdateè¿”å›falseï¼Œåˆ™å­ç»„ä»¶å…¶åçš„ç”Ÿå‘½å‘¨æœŸéƒ½ä¸å†è¿›è¡Œï¼Œä½†æ˜¯çˆ¶ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç»§ç»­æ‰§è¡Œã€‚\n"),t._v(" "),a("img",{attrs:{src:"/my-blog/static/parent.png",alt:"an image"}})]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("å¸è½½é˜¶æ®µ: å¸è½½çˆ¶ç»„ä»¶")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/my-blog/static/unmount.png",alt:"an image"}})]),t._v(" "),a("h2",{attrs:{id:"_7-proptypeç»„ä»¶å‚æ•°éªŒè¯ï¼š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-proptypeç»„ä»¶å‚æ•°éªŒè¯ï¼š","aria-hidden":"true"}},[t._v("#")]),t._v(" 7. PropTypeç»„ä»¶å‚æ•°éªŒè¯ï¼š")]),t._v(" "),a("p",[t._v("é€šè¿‡"),a("code",[t._v("PropTypes")]),t._v("ç»™ç»„ä»¶å‚æ•°åšç±»å‹é™åˆ¶ï¼Œç»™ç»„ä»¶åŠ ä¸Š"),a("code",[t._v("propTypes")]),t._v("ï¼Œä¹Ÿè®©ç»„ä»¶çš„å¼€å‘ã€ä½¿ç”¨æ›´åŠ è§„èŒƒæ¸…æ™°ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("è¯¦è§å®˜ç½‘"),a("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("PropTypes"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"_7-1-åŸºæœ¬ä»¥åŠå¤æ‚ç±»å‹æœ‰ï¼š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-åŸºæœ¬ä»¥åŠå¤æ‚ç±»å‹æœ‰ï¼š","aria-hidden":"true"}},[t._v("#")]),t._v(" 7.1. åŸºæœ¬ä»¥åŠå¤æ‚ç±»å‹æœ‰ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array\n  PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bool\n  PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("func\n  PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("number\n  PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("object\n  PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string\n  PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("node\n  PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("element\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),a("p",[t._v("ä¸¾ä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("demo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" propTypes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"_7-2-å¿…ä¼ å€¼çš„æ ¡éªŒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-å¿…ä¼ å€¼çš„æ ¡éªŒ","aria-hidden":"true"}},[t._v("#")]),t._v(" 7.2. å¿…ä¼ å€¼çš„æ ¡éªŒ")]),t._v(" "),a("blockquote",[a("p",[t._v("åœ¨ç±»å‹åé¢åŠ ä¸Š "),a("code",[t._v("isRequired")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("    name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isRequired\n")])])]),a("h2",{attrs:{id:"_8-dangerouslysetinnerhtmlå±æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-dangerouslysetinnerhtmlå±æ€§","aria-hidden":"true"}},[t._v("#")]),t._v(" 8. dangerouslySetInnerHTMLå±æ€§")]),t._v(" "),a("p",[t._v("å¯ä»¥åŠ¨æ€è®¾ç½®å…ƒç´ çš„innerHTMLï¼Œéœ€è¦ç»™"),a("code",[t._v("dangerouslySetInnerHTML")]),t._v("ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„"),a("code",[t._v("__html")]),t._v("å±æ€§å€¼å°±ç›¸å½“äºå…ƒç´ çš„"),a("code",[t._v("innerHTML")])]),t._v(" "),a("blockquote",[a("p",[t._v("ä¸ºå•¥ä¸è®¾ç½®innerHTMLå‘¢ï¼Ÿ--\x3e è®¾ç½® innerHTML å¯èƒ½ä¼šå¯¼è‡´è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<h1>hello world</h1>'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div\n      className"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'editor-wrapper'")]),t._v("\n      dangerouslySetInnerHTML"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("__html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"é«˜é˜¶ç»„ä»¶ï¼ˆhigher-order-componentsï¼‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é«˜é˜¶ç»„ä»¶ï¼ˆhigher-order-componentsï¼‰","aria-hidden":"true"}},[t._v("#")]),t._v(" é«˜é˜¶ç»„ä»¶ï¼ˆHigher-Order Componentsï¼‰")]),t._v(" "),a("p",[t._v("å®šä¹‰ï¼š é«˜é˜¶ç»„ä»¶å°±æ˜¯ä¸€ä¸ª"),a("code",[t._v("å‡½æ•°")]),t._v("ï¼Œä¼ ç»™å®ƒä¸€ä¸ªç»„ä»¶ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶")])])},[],!1,null,null,null);s.default=e.exports}}]);